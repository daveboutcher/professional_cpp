---
layout: post
title:  "Exercise 7 - Get Funky with SDL"
---

<div class="box" markdown="1">
Exercise 7 Objective
: Combine SDL surfaces to create a deck of cards
</div>

Now lets start having fun with SDL.  An SDLSurface is just a block of
pixels values (8 bits of red, green, and blue values for each pixel),
and we can do things like combining images together.  Our goal is to
create a deck of playing standard playing cards.

## Text in SDL

We are going to create a new `cdl::Font` object that wraps the
TTF_Font object (TTF is the part of SDL that deals with fonts.)
Similar to a SDL_Surface object, you can create the object from a font
file.  The **Exercise7-start** branch includes a font file.  To use a
font:
1. `#include <SDL2/SDL_ttf.h>` at the top of your program
1. Call TTF_Init() after SDL_Init
1. You can create a TTF_Font by calling `TTF_Font *font =
TTF_OpenFont("FreeSans.ttf", 24);` (FreeSans.ttf should be in the top
directory.)  `24` is the font size.
1. You can create a SDL_Surface containing text by calling
~~~ c++
SDL_Color textColor = {0, 0, 0, 0}; // red, green, blue, transparency
SDL_Surface *textSurface = TTF_RenderText_Solid(font, "Hello",
textColor);
~~~

First, create a `cdl::Font` class that follows the pattern of our
other wrapper classes.

Create a `cdl::Color` class that basically looks the same as the
SDL_Color class.

<div class="note" markdown="1">
Note: we could just use the SDL_Color class and the SDL_Rect class in
our code.  Whether to do so or not is very much a stylistic choice.
Personally, since we are providing a C++ cdl library, I prefer to just
completely hide the SDL interfaces from our users...but I am sure
co-workers I respect very much would strongly argue against
gratuitously creating new classes that add no meaningfun function
</div>

Secondly, create an overloaded construtor for `cdl::Surface` that
takes a `cdl::Font` object as the first parameter, and a string as a
second parameter that will create a surface containing a stirng.
~~~ C++
Surface(const Font &font, std::string str, const cdl::Color &color) {
~~~

Just to test our code, change your Exercise 7 cards.cpp file to do:
~~~ c++
cdl::Font font("FreeSans.ttf", 24);
cdl::Color color{255, 255, 255};
for (const auto &filename: std::initializer_list<const char *>{"club.png",
                                                               "diamond.png",
                                                               "heart.png",
                                                               "spade.png"}) {
    cdl::Surface card_surf = cdl::Surface(font, filename, color);
~~~
Now instead of our card suits you should see the file names


Here is an example
<script src="https://gist.github.com/wduminy/5859474.js"></script>

